{% extends "base.html "%}
{% load static %}

{% block content %}
<div class="row pt-5">
  <div class="col-12 text-center">
    <h1 class="display-4">Gallery</h1>
  </div>
</div>
<div class="row text-center">
  {% for product in products %}
  <div class="col-lg-4 col-md-6 align-self-end">
    <div class="card border-secondary mb-3">
      <div class="card-img-box">
        <img class="card-img" src="{{ product.product_image.url }}" alt="{{ product.title }}">
      </div>
      <div class="card-body">
        <p class="card-title">{{ product.title }}</p>
      </div>
    </div>
  </div>
  {% endfor %}
</div>
 <!-- Pagination code written by Corey Schafer - https://www.youtube.com/watch?v=acOktTcTVEQ&t 
         -->
<div class="row mb-5 justify-content-center">
  {% if is_paginated %}
  {% if page_obj.has_previous %}
  <a class="btn secondary-bg-color m-3" href="?page=1">First</a>
  <a class="btn secondary-bg-color m-3" href="?page={{ page_obj.previous_page_number }}">Previous</a>
  {% endif %}
  {% for num in page_obj.paginator.page_range %}
  {% if page_obj.number == num %}
  <a class="btn blue-color m-3" href="?page={{ num }}">{{ num }}</a>
  {% elif num > page.obj.number|add:'-3' and num < page.obj.number|add:'3' %}
  <a class="btn secondary-bg-color m-3" href="?page={{ num }}">{{ num }}</a>
  {% endif %}
  {% endfor %}
  {% if page_obj.has_next %}
  <a class="btn secondary-bg-color m-3" href="?page={{ page_obj.next_page_number }}">Next</a>
  <a class="btn secondary-bg-color m-3" href="?page={{ page_obj.paginator.num_pages }}">Last</a>
  {% endif %}
  {% endif %}
</div>
{% endblock %}